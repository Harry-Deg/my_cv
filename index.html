<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>CV - Harry DEGBEGNI</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <header class="header">
      <h1 id="nom"></h1>
      <p class="subtitle" id="note"></p>
      <p><span id="age"></span> ans - <span id="taille"></span> cm</p>
    </header>

    <main class="content">
      <section class="section" id="formations-section">
        <h2>Formations</h2>
        <div id="formations"></div>
      </section>

      <section class="section" id="experiences-section">
        <h2>Expériences professionnelles</h2>
        <div id="experiences"></div>
      </section>

      <section class="section" id="competences-section">
        <h2>Compétences</h2>
        <div id="competences"></div>
      </section>

      <section class="section" id="academiques-section">
        <h2>Expériences académiques</h2>
        <div id="academiques"></div>
      </section>

      <section class="section" id="langues-section">
        <h2>Langues</h2>
        <ul id="langues"></ul>
      </section>

      <section class="section" id="realisations-section">
        <h2>Réalisations</h2>
        <ul id="realisations"></ul>
      </section>

      <section class="section" id="hobbies-section">
        <h2>Hobbies</h2>
        <ul id="hobbies"></ul>
      </section>
    </main>
  </div>

  <script>
    fetch("cv.json")
      .then(res => res.json())
      .then(cv => {
        // Header
        document.getElementById("nom").textContent = cv.Prénom + " " + cv.Nom;
        document.getElementById("note").textContent = cv.Note;
        document.getElementById("age").textContent = cv.Age;
        document.getElementById("taille").textContent = cv.Taille;

        // Formations
        let formDiv = document.getElementById("formations");
        cv.Formations.forEach(f => {
          formDiv.innerHTML += `
            <div class="formation">
              <strong>${f.Nom}</strong> – ${f.Ecole} <br>
              <em>${f.Période} – ${f.Localisation}</em>
            </div>
          `;
        });

        // Expériences
        let expDiv = document.getElementById("experiences");
        cv["Expériences Professionnelles"].forEach(e => {
          let missions = (e.Missions || []).filter(m => m).map(m => `<li>${m}</li>`).join("");
          let techno = (e["Principales Technologies"] || []).filter(t => t).map(t => `<span class="chips">${t}</span>`).join(" ");
          let plusValue = (e["Plus Value"] || []).filter(p => p).map(p => `<span class="chips">${p}</span>`).join(" ");

          expDiv.innerHTML += `
            <div class="job">
              <strong>${e.Nom}</strong> – ${e.Entreprise} (${e.Période}, ${e.Localisation}) <br>
              <em>${e.Description}</em>
              ${missions ? `<ul>${missions}</ul>` : ""}
              <div>${techno}</div>
              <div>${plusValue}</div>
            </div>
          `;
        });

        // Compétences
        let compDiv = document.getElementById("competences");
        cv.Compétences.forEach(c => {
          let items = (c.Liste || []).filter(l => l);
          if (items.length) {
            compDiv.innerHTML += `
              <div class="skill">
                <strong>${c.Nom} :</strong> ${items.map(l => `<span class="chips">${l}</span>`).join(" ")}
              </div>
            `;
          }
        });

        // Expériences académiques
        let acadDiv = document.getElementById("academiques");
        cv["Expériences Académiques"].forEach(a => {
          let realisations = (a.Réalisation || [])
            .filter(r => r.Intitulé)
            .map(r => `<li><strong>${r.Intitulé} :</strong> ${r.Description || ""}</li>`)
            .join("");
          if (realisations) {
            acadDiv.innerHTML += `
              <div>
                <strong>${a.Programme}</strong>
                <ul>${realisations}</ul>
              </div>
            `;
          }
        });

        // Langues
        let langUl = document.getElementById("langues");
        cv.Langues.forEach(l => {
          if (l.Nom) langUl.innerHTML += `<li>${l.Nom} – ${l.Niveau || ""}</li>`;
        });

        // Réalisations
        let realUl = document.getElementById("realisations");
        cv.Réalisations.forEach(r => {
          if (r.Nom) realUl.innerHTML += `<li><strong>${r.Nom} :</strong> ${r.Description || ""}</li>`;
        });

        // Hobbies
        let hobbyUl = document.getElementById("hobbies");
        cv.Hobbies.forEach(h => {
          if (h.Nom) hobbyUl.innerHTML += `<li><strong>${h.Nom} :</strong> ${h.Description || ""}</li>`;
        });
      });
  </script>
</body>
</html>
